" .vimrc

" vim-plug auto-install and plugin list

if empty(glob('~/.vim/autoload/plug.vim'))
  silent !curl -fLo ~/.vim/autoload/plug.vim --create-dirs
        \ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
  autocmd VimEnter * PlugInstall
endif

call plug#begin('~/.vim/plugged')

Plug 'bling/vim-airline'
Plug 'bling/vim-bufferline'

Plug 'tpope/vim-sensible'
Plug 'tpope/vim-fugitive'
Plug 'tpope/vim-surround'
Plug 'tpope/vim-rails'
Plug 'tpope/vim-repeat'
Plug 'tpope/vim-commentary'
Plug 'tpope/vim-repeat'

Plug 'mattn/emmet-vim'
Plug 'lokaltog/vim-easymotion'
Plug 'jeffkreeftmeijer/vim-numbertoggle'
Plug 'vim-ruby/vim-ruby'
Plug 'altercation/vim-colors-solarized'
Plug 'kien/ctrlp.vim'
Plug 'skalnik/vim-vroom'
Plug 'morhetz/gruvbox'
Plug 'chriskempson/base16-vim'

call plug#end()
source ~/.vim/bundle.vim

" Simple tweaks
syntax on
syntax enable
filetype plugin indent on
set background=dark
set number
set nocompatible
set autoread
" set list
" set listchars=tab:▷⋅,trail:⋅,nbsp:⋅
" my custom mappings
let mapleader = ","
inoremap jk <esc>
inoremap <esc> <nop>
nnoremap <leader>- ddp
nnoremap <leader>_ dd2kp
nnoremap <leader>ev :vsplit $MYVIMRC<cr>
nnoremap <leader>sv :source $MYVIMRC<cr>

if has('nvim')
  tnoremap <Leader>e <C-\><C-n>
endif

" vim-go
" let g:go_fmt_command = "goimports"

" vim-airline glyphs
let g:airline_powerline_fonts = 1
" vim-bufferline
let g:bufferline_echo = 0

" syntastic 'sane defaults'
" set statusline+=%#warningmsg#
" set statusline+=%{SyntasticStatuslineFlag()}
" set statusline+=%*

" let g:syntastic_always_populate_loc_list = 1
" let g:syntastic_auto_loc_list = 1
" let g:syntastic_check_on_open = 1
" let g:syntastic_check_on_wq = 0

" Powerline if not neovim (nvim doesn't support powerline)
" if !has('nvim')
"   python from powerline.vim import setup as powerline_setup
"   python powerline_setup()
"   python del powerline_setup
" endif

" Colorscheme etc
if has('gui')
  colorscheme base16-monokai
else
  colorscheme solarized
endif


" Source the vimrc file after saving it
" if has("autocmd")
"   autocmd bufwritepost .vimrc source $MYVIMRC
" endif

" tab-settings
set ts=2 sts=2 sw=2 expandtab

" gui specific
set guifont=Inconsolata\ For\ Powerline
